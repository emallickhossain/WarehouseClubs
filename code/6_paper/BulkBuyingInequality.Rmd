---
title: "Saving Space: Bulk Buying, Storage Costs, and Inequality"
author: "E. Mallick Hossain"
date: "`r format(Sys.time(), '%B %d, %Y')`"
output:
  pdf_document:
    number_sections: yes
bibliography: reference.bib
fig_caption: true
citation_package: natbib
fontsize: 12pt
geometry: margin=1.5in
header-includes:
  - \usepackage[utf8]{inputenc}
  - \usepackage{amssymb}
  - \usepackage{amsmath}
  - \usepackage{bbm}
  - \usepackage{setspace}
  - \onehalfspace
  - \usepackage[multiple, symbol]{footmisc}
  - \usepackage[nolists, noheads]{endfloat}
  - \renewcommand{\efloatseparator}{\mbox{}}
  - \usepackage{caption}
  - \captionsetup[figure]{labelsep=space}
  - \captionsetup{font=small,skip=0pt}
  - \usepackage{multirow}
  - \usepackage{longtable}
---
 
\renewcommand{\thefootnote}{\fnsymbol{footnote}}

\footnote[1]{I wish to thank my wonderful advisers, Aviv Nevo, Holger Sieg, Katja Seim, and Sarah Moshary for their sound advice, constructive criticism, and immense patience throughout this writing process. They are prized mentors. I would also like to thank Emek Basker, Chris Cronin, Frank DiTraglia, Eileen Divringi, Jim Ferry, Ishan Ghosh, Joao Granja, Jeff Lin, Paolo Martellini, Davin Reed, Paul Sangrey, Anna Tranfaglia, and Keith Wardrip for their comments, questions, and extensive discussions on this topic which have helped to significantly improve this paper. I would also like to thank the Community Development and Regional Outreach group at the Philadelphia Fed for their comments and suggestions. Researcher(s) own analyses calculated (or derived) based in part on data from The Nielsen Company (US), LLC and marketing databases provided through the Nielsen Datasets at the Kilts Center for Marketing Data Center at The University of Chicago Booth School of Business. The conclusions drawn from the Nielsen data are those of the researcher(s) and do not reflect the views of Nielsen. Nielsen is not responsible for, had no role in, and was not involved in analyzing and preparing the results reported herein.}

\renewcommand*{\thefootnote}{\arabic{footnote}}
\setcounter{footnote}{0}

<!-- \begin{abstract} -->
<!-- \singlespace -->
<!-- Buying in bulk is a common way to save money, especially for storable items like toilet paper. Using granular household shopping data, I find that households making over \$100k buy 30\% larger packages than households making less than \$25k. Furthermore, the relationship between quantity purchased and income is monotonically increasing. I estimate that low-income households spend 8\% more for the same quantity than they would if they made larger per-trip purchases. By highlighting the importance of budget constraints and storage costs, this research identifies key structural factors that contribute to the "poverty penalty". Given the prevalence of bulk discounts, this research suggests that quantity discounts contribute to consumption inequality and may affect how I measure prices faced by different socio-economic groups. This research implies that reducing budget constraints would help low-income households achieve lower spending for the same basket of goods because they could buy larger quantities at lower unit costs. -->
<!-- \end{abstract} -->

# Introduction
Buying in bulk is an effective way to save money, especially for storable items and they are found on almost all common retail product categories. 

Despite these savings, I find that households making less than \$25k are 6 percentage points less likely to make bulk purchases across a wide range of product categories, with especially large gaps in categories like toilet paper (20 pp) and paper towels (20 pp). For storable items with relatively inelastic demand, this presents a puzzle: Why are households not taking advantage of bulk discounts to reduce their expenditures? 

<!-- Low-income households could reduce their expenditures by XX\% if they were to purchase the lowest unit-price item available and by XX\% if they were to buy similarly to high-income households. -->

<!-- Variables such as access to large sizes, transportation costs, storage costs, or liquidity constraints could all contribute to this gap. I find that access only accounts for XX\% of the gap while transportation and storage accounts for XX\% of the gap. These fundings suggest that the "poverty penalty" induced by not buying in bulk could be alleviated by doing XX. -->

<!-- This paper combines reduced-form analysis with structural demand estimation to help quantify the extent to which these various factors contribute to inequality. I use a combination of Nielsen's Consumer and Retail Panel datasets to obtain information on household choice sets and ultimate choices. Furthermore, I combine this with data on the opening dates and locations of warehouse clubs and dollar stores to identify how access may affect household behavior.  -->

<!-- I find that stores offer XX assortments in low-income areas compared to high-inocme areas.  -->

<!-- To test if store entry affects household bulk purchasing patterns, I do an event study analyzing how consumer purchasing responds when a warehouse club opens nearby and when a dollar store opens nearby. I find XX.  -->

<!-- To estimate the demand for various product characteristics and predict counterfactuals about household response if their shopping environment or preferences changed, I estimate a demand model for toilet paper. While narrower than the full class of storable products, toilet paper provides the perfect study to disentangle key tradeoffs that households must make. Namely, it comes in a variety of sizes, demand is relatively inelastic, and bulk discounts are common.  -->

This paper identifies various factors and their importance in generating inequality in shopping for basic household necessities. Most importantly, it provides the detailed overview necessary to understand consumption inequality. Most research has focused on differences in aggregate spending between households or between various product categories. @coibion2017 show how these aggregates may mechanically overstate consumption inequality depending on how frequently a household's expenditures are measured. @pistaferri2015 notes that "real" consumption inequality may still not be properly measured because a household's consumption may differ markedly from their expenditures. @aguiar2007 supports this assertion by showing that home production and time support a household's consumption even if measured expenditures fall during retirement. 

As @aguiar2007 highlights, households can reduce expenditures without reducing their actual consumption. @argente2017 shows that high-income households can better smooth their expenditures by substituting to cheaper brands. Low-income households are less able to do this because there are fewer cheaper brands to substitute down to. This paper builds on these threads to identify other common ways households can do that and how relying on aggregate expenditure measures can understate inequality. 

I find that low-income households are "leaving money on the table" compared to their richer counterparts. Most notably, low-income households could reduce their expenditures without changing their consumption basket if they bought larger quantities of items. In my modeling section, I identify contributors that limit their ability to take advantage of these discounts.

<!-- Despite the prevalence of bulk discounting, it has received less research attention than sales or coupons.^[Operations research has extensively studied volume discounts, but focus on business-to-business supplier transactions where large volume orders are being placed. Consumer choices in response to bulk discounting present a drastically different setting.] ^[Coupons can help separate elastic and inelastic consumers [@narasimhan1984] or those with high and low "hassle" costs of redemption [@anderson2004]. On the other hand, @nevo2002 finds evidence that coupons are not a price discrimination tool in the ready-to-eat cereal sector, but may result from competition between brands and encourage consumers to make repeat purchases. Sales can also serve as intertemporal price discrimination mechanisms [@hong2002] and in the case of storable goods, can help increase profits [@hendel2013].] Consumer responses to bulk discounts on storable items is particularly interesting because actual consumption may be separate from the purchase occasion and therefore may not respond strongly to lower prices.^[In a perishable setting, diminishing marginal utility can justify a bulk discount because a lower unit price on higher quantities may induce a consumer to purchase (and consequently consume) the larger product. This can also be true in a storable setting, but storability breaks the linkage between purchase and consumption and therefore an increased purchase quantity may not correspond to increased consumption.] -->

<!-- Bulk discounts for storable goods create a particularly interesting contrast to other budget-friendly behaviors. In exchange for a household's time and effort, coupons and sales reward customers with lower prices. Substituting to cheaper brands requires households to sacrifice quality for savings. Bulk discounts (seemingly) require less of a trade off. A forward-looking, expenditure-minimizing household with reasonable expectations of their own demand would purchase the package that delivers the lowest unit cost (i.e. the largest package). However, given that consumers do not pool on the largest size, what frictions could generate this pattern? One possibility is budget constraints.  A bulk discount requires an upfront investment in exchange for future savings. The other friction could be storage or transportation costs. Buying a large quantity requires having the means to transport and store a large quantity. This paper estimates the relative importance of these frictions as well as how they are related to household characteristics. -->

<!-- Given the necessity and predictable consumption of common household goods, a rational agent would appropriately save and spend to achieve the lowest unit cost of these items. Low-income households would be especially sensitive to reaping any potential savings because the marginal dollar is much more valuable to them than to a higher-income counterpart. Therefore, economic intuition would identify storage and transportation costs as the driving factor for why some households choose not to buy bulk quantities.^[Informal conversations have suggested as much. With few exceptions, economists I have talked to inevitably identify storage costs as the main driver of why consumers do not buy in bulk while non-economists tend to identify budget constraints as the main driver. This paper will help pin down the relative importance of these competing explanations.] Another possible explanation is that households may not understand the value of bulk discounts, or may not be thinking in terms of unit costs compared to listed costs. While I cannot explicitly rule out this possibility with my data, my analysis does control for education. Furthermore, I provide evidence that posting unit costs alongside prices is associated with a small positive increase in package size purchased, but the overall pattern remains. -->

<!-- This paper find that high-income households are more likely to take advantage of bulk discounts compared to similar low-income households, even after controlling for a wide range of other characteristics like household size, education, and age. For toilet paper purchases, households making over \$100k purchase almost 30\% larger packages compared to households making below \$25k. As a result, these high-income households realize a 8\% savings over their low-income counterparts simply as a result of buying in bulk. -->

<!-- Previous research has specifically analyzed how households substitute between brands and take advantage of sales [@argente2017; @erdem2003; @hendel2006a; @hendel2006b; @hendel2013; @pesendorfer2002]. @nevo2018 explore how the propensity to take advantage of these savings changed during the Great Recession. However, most research assumes that unit costs are uniform for a particular product and households choose quantities given a fixed unit price. In reality, this is not true because unit costs differ with package size and larger packages offer lower unit costs. Aside from @nevo2009, @nevo2018, and @orhun2018 few papers have looked specifically at bulk discounts as a money-saving technique. @nevo2009 finds that the average household saves about 16\% buy buying in bulk across a wide range of goods and that low-income households save more than high-income households. However, they focus on food and beverage purchases which are more likely to be perishable items. As a result, this difference may reflect an increased preference for variety for high-income households while low-income households prefer savings instead of variety. -->

<!-- The closest paper to this one is @orhun2018 which documents differences in purchase behavior between high- and low-income households. They leverage the fact that households are likely to be more liquid at the start of the month compared to the end of the month due to pay schedules and other transfer payments like Social Security and food stamps. This liquidity "difference" over the month is likely to be more pronounced for low-income households relative to high-income households. By comparing spending patterns at the beginning and end of a month between different income groups (a differences-in-differences approach), they find that liquidity constraints are an important reason why low-income households cannot take advantage of sales. However, they also look at bulk purchasing, but they find that low-income households do not take advantage of bulk purchases even when they have more money at the beginning of a month. The precise cause of this gap remains elusive. Budget constraints could still be a factor, but the difference between liquidity at the start and the end of the month is still not enough to make the up-front investment necessary for a bulk purchase. The other explanation is that storage and transportation costs are the primary factors, so even with extra room in their budget, households have no place to keep a bulk quantity. -->

<!-- This paper contributes to the literature by explicitly incorporating how a household's purchase decision may depend on both a product's price and its size and how these preferences may relate to demographic characteristics. -->

<!-- This paper documents three stylized facts: -->

<!-- 1. Households making over \$100k purchase 29\% larger packages of toilet paper compared to households making less than \$25k. -->
<!-- 2. The relationship between household income and quantity purchased is monotonically increasing in income. -->
<!-- 3. Due to bulk discounts, households making over \$100k save 7\% annually compared to frequently buying small packages like low-income households do. -->

<!-- Overall, this paper quantifies the "poverty penalty" paid by poor households that results from them being unable to take advantage of the same discounts that rich households can. This is particularly stark when examining necessity goods for which total consumption is fixed and relatively predictable. Over the course of a year, rich and poor households purchase the same amount of toilet paper, but have significantly different expenditure paths, which ends up costing low-income households more. This paper provides evidence and analysis to explain these patterns. -->

# Data

## Nielsen Consumer Panel Data

<!-- This uses the getHomescan.R script -->
I use the Nielsen Consumer Panel Dataset from 2004--2017 available through the Kilts Center for Marketing at the University of Chicago Booth School of Business. This dataset is a longitudinal panel of about 174,000 unique households, of which we observe about 40,000 each year from 2004--2006 and about 60,000 households each year from 2007--2017. This data records all purchases from any outlet intended for personal, in-home use and covers about 30\% of consumer expenditures. About 1.5 million unique items (defined by UPC code) are recorded in categories such as groceries, cleaning supplies, health/personal care items, and basic general merchandise. The panel is based on a stratified, proportionate sample designed to be projectable to the United States population. It is balanced on demographic characteristics including household size, income, education, children, race, and occupation.

Households scan all items that they purchase, input quantities and prices (if necessary), date of purchase, and store purchased from. Households are incentivized to stay active in the panel by monthly prize drawings, points for data transmission, and sweepstakes as well as ongoing communication from Nielsen to ensure cooperation and address any problems. Nielsen retains about 80% of its panel from year to year with the mean and median tenure of a household being 4 and 3 years, respectively. To further ensure data quality, Nielsen institutes a minimum purchase threshold based on household size that must be met to be deemed "active".

For my analysis, I exclude households with a student or military head of household as well as any purchases of alcohol, "deferred" modules which Nielsen has stopped tracking, or "magnet" products.^[Magnet products are typically non-packaged, variable weight products like fresh produce or items ordered from a store's deli counter.] Furthermore, I drop any modules for which fewer than 3 unique sizes are purchased or fewer than 100 purchases are recorded in a given year. This leaves me with 957 product modules.^[A product module is a narrow product category defined by Nielsen. For example, toilet paper, paper towels, and eggs are separate product modules.] My descriptive statistics and reduced-form analysis are generated from this sample. 

<!-- ## Nielsen Retail Scanner Data -->
<!-- I also use Nielsen's Retail Scanner Data in order to estimate a discrete choice model. The Nielsen Retail Scanner Data contains weekly pricing, volume, and promotional activity of about 35,000 stores from about 90 retail chains and covers 2006-2017. For each product, stores report weekly volume sold and quantity-weighted average price. This data is essential to match a consumer's purchase decision with their choice set. I match the Retail Scanner Data with the Consumer Panel data based on store identification numbers that correspond to an individual store location and the week of the purchase. Overall, I am able to match about 25-30\% of purchases to stores. This is slightly lower than Nielsen estimates of matching between the two datasets. This primarily results from the fact that Nielsen only has data-sharing agreements with about 35,000 stores in 90 retail chains and households may shop at stores that do not share their data with Nielsen. -->

<!-- Since the Retail Scanner Data only records information on products that have positive sales, I cannot distinguish between a product was available and did not sell or a product that was unavailable. To pin down a consumer's choice set, I assume that only products with positive sales are in their choice set. I am able to exactly match about 72\% of Consumer Panel purchases with their corresponding UPC product in the Retail Scanner data. The remaining 28\% cannot be matched exactly by UPC, but these are often cases where minor product changes create a different UPC, but the product is basically identical. I am able to match another 12\% by matching on brand, size, ply, and price. Another 5\% are matched by including matched products that are within \$0.25 of the purchased price. The remaining "missing" purchases are appended to the store's sales in order to create the consumer's choice set. Further data organization details are in the Data Appendix. -->

<!-- ### Toilet Paper Subsample -->
<!-- In estimating my discrete choice model, I will restrict this sample to the set of toilet paper purchases because it provides the simplest environment in which to separately identify storage and transportation costs associated with package size from the underlying usable quantity of an item. Furthermore, toilet paper has many other convenient characteristics for this analysis because it is storable, universal in consumption, highly inelastic demand, and consumption is not a function of income. While toilet paper provides the cleanest product by which to conduct this analysis, its conclusions are generalizable to overall household consumption. Based on CPI basket weights, storable, non-perishable items account for about 2-5\% of total expenditures and about 10-23\% of nondurable expenditures.^[See Appendix for items and basket shares.] This subset of toilet paper purchases includes about 3 million purchases across almost 120,000 households between 2006 and 2014. -->

<!-- Toilet paper is an ideal product to study because each product is characterized by only a few attributes, namely ply, sheets per roll, and number of rolls. It also comes in few common package sizes (usually multiples of 3 or 4 rolls). Critically for my analysis, the exact composition of a roll of toilet paper can vary substantially between brands. This is most often seen in the marketing of "double", "jumbo", "mega", and "ultra" rolls.^[These sizes are not standardized within the industry or even within the same brand. For example, a "mega" roll of Angel Soft: 484 sheets; Charmin UltraStrong: 286 sheets; Charmin Essentials: 451 sheets; Quilted Northern: 308 sheets] Because of these compositional differences the number of sheets and the corresponding ply of those sheets can dramatically alter the underlying amount of paper available for use (i.e. "effective sheets") even though the physical volume of the roll will be similar.^[This can be seen from a geometric perspective because in order to increase the volume by some multiple $a$, the radius only needs to be increased by $\sqrt{a}$. Allowing for some compressability of the paper by how tightly it is wound, the change in radius is actually smaller. Additionally, rolls are relatively constrained because the roll cannot exceed the dimensions that allow it to fit on a standard wall-mounted toilet paper dispenser. Finally, visual inspection while shopping will also verify this fact.] For example, a roll of Scott 1000 has 1000 sheets of 1-ply paper while a roll of Charmin UltraSoft may be 176 sheets of 2-ply paper. As a result, the Scott 1000 roll contains more "effective sheets" compared to the Chamin roll. In order to properly adjust for these varying roll compositions, I convert all rolls into a 225-sheet 2-ply equivalent. The Scott 1000 roll will be 1.8 standard rolls and the Charmin will be 0.64 rolls. This 225-sheet, 2-ply roll is what I refer to as the "standard" roll throughout this paper. -->

<!-- I clean and organize this subsample following @orhun2018 to identify and remove missing purchase information and incorrectly recorded values, which help address concerns of incorrect self-reports raised in @einav2010. In particular, I remove households which have unreasonably long durations between purchases (sometimes as long as 6 months) as well as those for which I cannot calculate an average daily consumption rate because they are not active in the panel long enough or only make very few purchases during their time in the panel. I also remove any households for which excessive quantities or prices were recorded.^[Excessive quantities are likely either misreports or households that are likely purchasing items for resale.] Finally, I focus my analysis on purchases at grocery or discount stores since these represent over 75\% of toilet paper purchases and are likely to be more representative of the consumer decision.^[This is in line with @handbury2018, which shows that many households still buy a majority of their groceries from supermarkets, even if they are located in a "food desert". Even though households may have other options like convenience stores or drug stores, many still purchase toilet paper from more common grocery or discount stores where they do most of their other shopping.] Further details are in the Data Appendix. -->

<!-- Of the many brands of toilet paper sold each year, I focus on the top 5 "brands" (Angel Soft, Charmin, Cottonelle, Quilted Northern, and Scott 1000) which account for over 60\% of purchases.^[A "brand" is defined by the name borne on the product. This is a slightly finer gradation than might be commonly expected in that Charmin and Charmin Essentials are different "brands" as are Scott 1000 and Scott Extra Soft.] Private-label products account for about 25\% of sales with the remainder composed by a long tail of other brands. The average prices and bulk discounts for the top 5 brands are in Table \ref{tab:bulkDiscountTable}: -->

<!-- \input{./tables/bulkDiscountTable.tex} -->

<!-- Overall, bulk discounts can be substantial, but require a much larger investment. Increasing purchase size from a 4 to a 6-roll package lowers unit costs by about 4-11\% (with the exception of Charmin, which offers a generous 20\% unit-price discount). Increasing to a 12-roll package does generate substantial unit cost savings, lowering unit costs by an average of 20-30\%. A further increase to a 24-pack would net unit cost savings of 30-40\%. \ref{tab:bulkDiscountTable} also provides evidence that different brands offer different price schedules with Cottonelle being the least generous (savings range from 4-30\% based on size) while Charmin is more generous (savings range from 21-38\% based on size). The variation in price schedules between brands is important in identifying tastes for price and package size. -->

<!-- Table \ref{tab:sizeSummary} illustrates a positive correlation in the raw data between income and package size purchased. The median household making under \$25k purchase about 8 standard rolls per trip while the median household making over \$100k purchases 11 standard rolls. This pattern bears out across the distribution of purchases within each income group with the lower income groups making smaller purchases than higher income groups. One might be concerned that given the positive correlation between income and household size, this pattern simply reflects increased consumption. Another explanation is given the positive correlation between income and education this pattern reflects an increased awareness of savings from bulk discounting. In the next section, I show that the increasing relationship between income and quantity remains robust to the inclusion of a wide range of household characteristics including size, age, race, education, and market as well as store and brand preferences. -->

<!-- \input{./tables/sizeSummary.tex} -->


<!-- # Descriptive Evidence -->

<!-- ## Data Summary -->
<!-- I use two data samples for analysis. The first dataset consists solely of observations from the Consumer Panel, which, after cleaning and organizing following @orhun2018, consists of about 3.6 million purchase occasions across 120,000 households and over 50,000 stores in about 1,000 retail chains. Over 75\% of these purchases occur at grocery or discount stores with the remainder primarily at drug stores, warehouse clubs, or dollar stores. Nielsen assigns each household a projection weight to generate a representative sample, which I use in my regressions to appropriately weight each observation. Table \ref{tab:tpPurchDist} compares the distributions of the raw and cleaned data for household consumption rates, shopping frequency, and purchase volume. The distributions are quite similar with the cleaned data primarily removing some more extreme households. -->

<!-- \input{./tables/tpPurchDist.tex} -->

<!-- The second dataset consists of the matched Consumer Panel-Retail Scanner data. The data covers about 850,000 purchases across 74,000 households and over 23,000 stores in 120 chains. The sample is reduced compared to the first sample because it requires overlap between the stores where panelists shop at and stores that have agreed to share sales data with Nielsen. The stores in the sample are only discount, drug, and grocery stores, so there is an under-representation of warehouse clubs and dollar stores. However, given that over 80\% of purchases are in these three channels and warehouse clubs and dollar stores tend to offer different selections, this sample should capture the main body of consumer behavior. -->

<!-- ## Average Daily Consumption -->
<!-- One important characteristic of toilet paper that I use in this analysis is that consumption is relatively fixed by household and that increased package size purchases by high-income households do not reflect increased consumption. Furthermore, unlike other goods, consumption cannot be inter-temporally shifted and there is little scope for home production to substitute for this product. This should be intuitive from a biological perspective in that characteristics like household size and the presence of children should be most predictive of consumption, but not income. -->

<!-- In order to verify this, I first compute average daily consumption by computing the total volume of toilet paper purchased by a household, excluding the final purchase, and divide that by the number of days they were active in the panel. I then regress this household-specific consumption rate on household demographics to identify the most significant predictors. These results are in Table \ref{tab:annualTP}. As an alternative validation, I use machine-learning (namely, 20-fold cross-validated LASSO) to identify the most useful predictors of consumption. LASSO is a method that identifies the most predictive subset of covariates in a regression and shrinks other coefficients to 0. I find that LASSO primarily selects household size, marital status, age, children, and education as predictors of consumption. Almost all income coefficients are shrunk to 0 and the ones that remain are small relative to other predictors. Both analyses are detailed in the Appendix. -->

# Stylized Facts
I document 3 stylized facts to motivate my analysis:

1. 99\% of product categories with multiple available sizes have quantity discounts and storable items have larger discounts.

2. Households making over \$100k are 6 percentage points more likely to buy in bulk compared to households making under \$25k. Gaps are particularly large for essential storable items like toilet paper, diapers, and paper towels.

3. Households increase their bulk buying when warehouse clubs open nearby, but this only applies to middle- and high-income households.

4. High-income households use bulk discounts to offset price increases from quality improvement and store choice.

<!-- 3. Households making over \$100k purchase 29\% larger packages than households making under \$25k. -->

<!-- 4. Quantity discount savings are significant and substantial, a 10\% increase in package size reduces the unit price by 2\%. -->

<!-- Combining these facts together, I calculate that low-income households spend 8\% more over the course of a year because they do not take advantage of bulk discounts at the same rate as high-income households even after accounting for their consumption rate. -->

## Bulk Discount Prevalence
<!-- This uses the bulkDiscountAllProds.R script -->
In order to compute the prevalence and magnitude of bulk discounts, I analyze purchases recorded in the Nielsen Consumer Panel data from 2004-2017. First, I compute the unit price for each item purchased. If multiple packages were purchased, I divide the total price paid by the number of packages to get the per-package price, which is then used to compute the unit price.^[Purchasing multiple packages generates linear pricing and without this correction would likely understate the magnitude of bulk discounts. To the extent that multiple packages were purchased because of a promotion (e.g. buy 2 get 1 free), I map that promotion into its equivalent per-package price.] Hence, all products within a product module are mapped into their corresponding unit price (e.g. cents per ounce for milk, cents per roll for toilet paper). 

Given the unit price, I then compute the quantity discount by estimating the following regression for each product module:
\begin{equation}
log(unitPrice_{ismt}) = \beta_1^m log(packageSize)_{iht} + \lambda_s + \lambda_m + \lambda_t + \epsilon_{ist},
\end{equation}
where $unitPrice$ is the unit price of product $i$ purchased on shopping trip $s$ in market $m$ at time $t$. $packageSize$ is the amount available in a particular package (measured in the most common units of that product module). $\lambda$ are fixed effects for brand-retailer (a shopping trip), market, and year-month. A market is a Nielsen Designated Market Area which is a non-overlapping county grouping that covers the United States.^[A map of these DMA regions is available at https://www.thevab.com/wp-content/uploads/2017/06/2016-2017TVDMARegionMap_Small_v4.pdf.]

Figure \ref{fig:bulkDiscountAllProds} shows the distribution of the bulk discounts, as captured by $\beta^m$.

\begin{figure}
\centering
\includegraphics{../5_figures/bulkDiscountAllProds.png}
\caption{}
\label{fig:bulkDiscountAllProds}
\end{figure}

Based on this estimation, about 99\% of product categories have evidence of bulk discounts with the largest on products like jellies, jams, and canned fruit and the smallest on categories like tomato sauce, tomato paste, and yogurt. By construction, this estimate excludes any products where less than 3 unique sizes were purchased.^[One might be concerned about the manufacturer's decision of what sizes to produce and in some cases, the manufacturer could have strategically chosen not to produce multiple sizes. This would bias the prevalence of bulk discounts upward. Including all non-deferred, non-alcohol modules reduces this number to 86\%, which is still a vast majority of product categories.] The peak is primarily composed of non-storable products while the fat left tail is composed of storable products. Without storage costs or other frictions, these discounts on storable products give households an easy way to lower costs without having to sacrifice consumption.

## Discounting Behavior
<!-- This uses the discountingBehavior.R script -->
In addition to documenting the prevalence of bulk discounting, I then document how takeup of these savings options correlates with income. For each product purchased, I add an indicator of whether that product was purchased with a coupon, purchased on sale, purchased in a bulk size, or was a generic brand (a product can have more than one indicator). A "bulk" size is defined as a product in the top quartile of the size distribution for that product category. For each household, I take the expenditure-weighted average of each discounting behavior. Using this household-level discount propensity, I estimate the following pooled regression (essentially generating a binned scatterplot):
\begin{equation}
Y_{i} = \beta_1 Income_{i} + \beta_2 Age_{i} + \beta_3 HHSize_{i} + \beta_4 Child_{i} + \epsilon_{i},
\end{equation}
where $Income$ is a dummy for a household $i$'s income bin, $Age$ is the head of household's age, $HHSize$ is the number of people in the household, and $Child$ is an indicator for whether the household has any children.^[I control for these covariates because household income varies with household size, age, and children for reasons outside of socio-economic status.] The results are plotted in Figure \ref{fig:savingsBehavior} and they show that overall, richer households are more likely to take advantage of bulk purchases, and sales, but are less likely to purchase generic brands. The fact that generic brands and bulk purchases are more prevalent than sales is supported by @nevo2009. Additionally, these differences are primarily driven by storable items.^[I define storable items as those that can remain unopened at room temperature for at least 2 months without significant deterioration. Milk, eggs, and frozen items are not storable while soft drinks, cereal,  detergent, and toilet paper are storable.] The gap for storable items is 7 percentage points compared to 3 percentage points for non-storable items. Buying in bulk is the most commonly used discount option and is often available even when coupons and sales are not available. Some of this correlation could be driven by the possibility that richer households are just consuming more of these products and hence choose to buy larger sizes because of this increased consumption. However, for products where this is unlikely, such as toilet paper, paper towels, and diapers, these patterns persist, suggesting low-income households are paying more for the same basket simply because they are buying smaller quantities per trip.

Across popular spending categories, the biggest gaps are in categories like toilet paper (20 pp), paper towels (20 pp), and diapers (13 pp). These are much larger gaps than in common non-storable items like milk (2 pp) and eggs (0 pp). Any gaps in non-storable items could be attributed to different consumption rates not captured by age, household size, or presence of children, because these items will perish if not consumed within a short period of time. On the other hand, storable items do not have to be consumed immediately. While I cannot rule out consumption differences for all items, it would be unlikely that consumption rates would differ so greatly for these items. In a later section, I show that income is not predictive of toilet paper consumption after controlling for age, household size, and presence of children. 

\begin{figure}
\centering
\includegraphics{../5_figures/savingsBehavior.png}
\caption{}
\label{fig:savingsBehavior}
\end{figure}

## Discount Savings
<!-- This uses the discountSavings.R script.-->

The previous section established that high-income households are more likely to take advantage of various discounting strategies, except for buying generic brands. In this section, I establish that low-income households are leaving money on the table as a result of not taking advantage of these money-saving strategies and that these savings are more pronounced for storable products. In order to quantify the savings, I estimate the following regression (modeled after @nevo2009):
\begin{align}
log(UnitPrice)_{ismt} = &\beta_0 + \beta_1 Coupon_{ismt} + \beta_2 Sale_{ismt} + \beta_3 Generic_{ismt} + 
\\
\sum_{q = 2}^4 &\beta_4^q Quartile^q_{ismt} + \lambda_s + \lambda_m + \lambda_t + \epsilon_{ismt},
\end{align}
where $log(UnitPrice)$ is the log unit price of product $i$ purchased on shopping trip $s$ in market $m$ at time $t$. $Coupon$, $Sale$, and $Generic$ are all indicators for whether that item was purchased with a coupon, on sale, or was a generic brand, respectively. $Quartile^q$ is an indicator for whether the item's size is in the second, third, or fourth quartile of the size distribution of that product module. $\lambda$ are shopping trip (retailer-brand), market, and year fixed effects.

This specification gives the average discount relative to the average unit price of a particular brand (e.g. average per-sheet price of Charmin toilet paper at Target).^[I also estimate different specifications with retailer-category or retailer-UPC fixed effects and the results are similar.] The coefficient estimates are reported below in Figure \ref{fig:savingsStoreBrand}. Savings from each of these modes is substantial with coupons, generics, and bulk purchases saving the most money. The fact that generic brands and bulk purchases also provide the most savings is supported by @nevo2009. However, bulk discounts can offer even more savings and storable items have much larger savings than non-storable items.

\begin{figure}
\centering
\includegraphics{../5_figures/savingsStoreBrand.png}
\caption{}
\label{fig:savingsStoreBrand}
\end{figure}

# Reduced-Form Analysis

## Warehouse Club Entry on Bulk Purchasing
One possible explanation for this "bulk buying gap" is that low-income households may not have access to large, bulk sizes that high-income households do. Warehouse club stores offer access to large packages with low unit prices in exchange for an annual membership fee. The largest warehouse club chains are Costco, Sam's Club, and BJ's. If access is the primary driver of this gap, then warehouse club entry should correspond with an increase in bulk purchasing. 

Over my sample period, I observe 419 warehouse club openings. While there are some endogeneity concerns about what drives the decision to open a warehouse, I leverage the panel structure of the data to avoid this issue because it is unlikely that an opening would be planned exactly when a household changes its consumption patterns. I use an event study framework to look at how bulk purchasing changes within a household before and after a warehouse club opens. I estimate the following regression:
\begin{equation}
\label{eq:eventStudy1}
Y_{imt} = \beta S_{it} + \gamma X_{it} + \lambda_{im} + \lambda_{mt} + \epsilon_{imt},
\end{equation}
where $Y$ is the expenditure-weighted share of bulk purchases made by houeshold $i$ in market $m$ in quarter $t$. $S$ is the number of warehouse clubs that have entered within 30 kilometers of the household as of month $t$.^[Distance is measured between the centroids of the household ZIP code and the store ZIP code.] $X$ is a vector of household characteristics including income, household size, age, and presence of children. $\lambda$ are fixed effects for household-markets (to ensure identification is from club entry and not household moves) and market-quarter. Standard errors are clustered at the household-market level. 

Before estimating Equation \ref{eq:eventStudy1}, I graphically illustrate the event study by plotting the coefficients of a modified version of Equation \ref{eq:eventStudy1}.
\begin{equation}
\label{eq:eventStudy2}
Y_{imt} = B_{it} \left( \sum_t \beta_t E_{it} + \alpha \right) + \gamma X_{it} + \lambda_{im} + \lambda_{mt} + \epsilon_{imt},
\end{equation}
where $B$ is an indicator for whether a household was continuously located in a market with a warehouse club opening and was there during the 4 quarters prior to the opening and 8 quarters after the opening. $E$ is a dummy for each of the 4 quarters prior to opening and each of the 8 quarters after opening. The $\beta$ coefficients are plotting in Figure \ref{fig:eventStudy}

\begin{figure}
\centering
\includegraphics{../5_figures/eventStudy.png}
\caption{}
\label{fig:eventStudy}
\end{figure}

The event study shows that warehouse clubs increase a household's bulk purchasing, but this effect is primarily concentrated in higher-income households, with households making under \$25k having no significant change in their purchasing behavior. Households making over \$100k exhibit the largest increase in bulk purchasing, but we cannot definitively say if their change is larger than the change for other households making over \$25k.

The estimation results for Equation \ref{eq:eventStudy1} are reported in Table \ref{tab:clubOpening} and after a warehouse club opens, bulk purchasing increases by about 1 percentage point overall, but when this analysis is run separately on each quartile, we see that this effect is primarily on the upper end of the income distribution with households making under \$25k exhibiting no significant difference in their bulk purchasing.

One reason why low-income households may not change their bulk purchasing is that they cannot afford the warehouse club membership fee and therefore still do not have access to the club even if it is nearby. Even if that was not the case, the coefficient estimates on wealthier households suggest that increased access to bulk sizes is unlikely to substantially close the 6 percentage point gap in bulk purchasing behavior.

\input{./tables/clubOpening.tex}

## Price Decomposition
How important are these factors in generating savings? How much money are households "leaving on the table"? If products were homogenous, one could simply examine differences in the unit price paid by high- and low-income households. Increased uptake of bulk discounts would be reflected in lower unit prices paid by high-income households. However, in reality, these savings can easily be masked, or even offset by substitution to higher priced brands or stores. In fact, this is exactly what happens in reality with high-income households more likely to purchase higher quality items or shop at premium stores. Therefore, in order to better understand how each of these factors contributes to the prices paid by households, I decompose the unit price of each product module into store, brand, and size components using a hedonic regression. The contribution of each component is then aggregated up to the household level based on that module's basket share and these are aggregated across households using Nielsen's projection weights. The hedonic regression is shown in Equation \ref{eq:hedonic}.

\begin{equation}
\label{eq:hedonic}
unitPrice^m_{brq} = \lambda_b + \lambda_r + \lambda_q + epsilon_{brq}
\end{equation}

The hedonic regression decomposes the unit price of a product purchased in module $m$ of brand $b$ at retailer $r$ in size quartile $q$ into brand, retailer, and size components. All coefficients are relative to the reference category which is the smallest generic brand product sold at the most popular discount retailer. Figure \ref{fig:priceDecomp} shows that the contribution of brand and retailer components increase the price for high-income households, but that size components offset a large portion of this increase. Most importantly, the figure illustrates the large importance of size components in determining an item's unit costs, dramatically overshadowing savings that come from sales or coupons.

<!-- ## Purchase Quantities -->
<!-- I find that high-income households purchase larger quantities than low-income households by estimating the following regression: -->

<!-- \begin{equation} -->
<!-- \label{eq:size} -->
<!-- Y_{ist} = \beta_1 Inc_{i} + \beta_2 Rate_i + \beta_3 X_{i} + \lambda_s + \lambda_t + \epsilon_{ist}, -->
<!-- \end{equation} -->

<!-- where $Y$ is the log standardized quantity purchased by household $i$ on shopping trip $s$ at time $t$. A shopping trip consists of a specific brand purchased at a particular store in a particular market.^[Packages are standardized to be in units of 225 sheet 2-ply rolls. Because private-label products have the same brand code in the Nielsen data, I recode the private label brand to correspond to a brand-retailer to better control for potential quality differences. As an illustration, this ensures that Great Value (Walmart brand) is distinct from Kirkland Signature (Costco brand).] $Inc$ is the household income quantile, $Rate$ is the household's average daily consumption rate, and $X$ is a vector of other household characteristics including household size, type of residence, marital status, race, ethnicity, age, and education. $\lambda$ includes store, brand, market, and time fixed effects. -->

<!-- Column 1 of Table \ref{tab:packageSizeFullTP} shows that high-income households (those making over \$100k) purchase packages that are about 27\% larger than those purchased by the lowest-income households (those making under \$25k), even after accounting for household demographics. This coefficient remains stable even after controlling for a household's consumption rate (Column 2). After accounting for store choice, the income coefficient decreases substantially (Column 3), but is still substantial and significant at 11\%. This indicates that even within the same store and given the same selection, there is a significant different in purchase patterns between households with different incomes. Furthermore, purchase quantity is still increasing in household income. Column 4 adds brand fixed effects, and the coefficient on income remains stable. Richer households are more likely to buy larger quantities. Figure \ref{fig:coefficients} shows that even at finer income gradations, this pattern is monotonically increasing. Overall, these patterns suggest that there are multiple contributing factors to the decision to buy in bulk. Store identity clearly affects the package size decision, but I do not model the store choice decision because in over 99\% of shopping trips, toilet paper is just one product in a larger shopping basket of items that is being purchased. Furthermore, toilet paper is unlikely to affect the shopping decision because almost all toilet paper is purchased in addition to other products and over 95\% of shopping occasions do not include toilet paper. Other, more frequently purchased items such as milk, bread, eggs, and other perishables are more likely to influence the shopping decision compared to toilet paper. I focus on the within-store, within-brand purchase decision that is directly correlated to income. Put more succinctly, it is surprising that even for households within the same store, choosing the same brand, there is a quantity difference that is correlated with income. -->

<!-- \input{./tables/packageSizeFullTp.tex} -->

<!-- \begin{figure} -->
<!-- \centering -->
<!-- \includegraphics{../5_figures/tpCoefficients.png} -->
<!-- \caption{} -->
<!-- \label{fig:coefficients} -->
<!-- \end{figure} -->

<!-- ## Bulk Discounts -->
<!-- After establishing this stark difference in quantity choice, I estimate the magnitude of bulk discounts using the following regression: -->

<!-- \begin{equation} -->
<!-- \label{eq:discount} -->
<!-- log(P)_{krbmt} = \beta log(Q)_{krbmt} + \lambda_r + \lambda_b + \lambda_m + \lambda_t + \epsilon_{krbmt}, -->
<!-- \end{equation} -->

<!-- where $P$ is the unit price paid on shopping trip $k$ at retailer $r$ of brand $b$ in market $m$ at time $t$.^[Packages are standardized to be in units of 225 sheet 2-ply rolls.] $\lambda$ are fixed effects. -->

<!-- Table \ref{tab:bulkDiscountUnitCost} shows that overall, the bulk discount is such that a 1\% increase in the package size decreases the unit cost by 0.25\%. After accounting for brand and retailer differences, the bulk discount is lessened, but still substantial at 0.19\%. -->

<!-- \input{./tables/bulkDiscountUnitCost.tex} -->

<!-- One possible criticism is that this measure of the bulk discount is conditional on a household making a purchase and does not reflect the actual pricing behavior of stores. In order to ensure that this is a good approximation for actual pricing behavior, I run a similar regression on the Retail Scanner data. I modify the fixed effects to account for the store-level data I have and I include store, brand, and week fixed effects to isolate the bulk discounting available within a store and the results are strikingly similar to the bulk discounts reflected in the Consumer Panel. Both of these regressions reveal that a large amount of price variation is due to brand, with some remainder attributable to store or time. -->

<!-- \input{./tables/bulkDiscountScanner.tex} -->

<!-- ## Estimated Savings -->
<!-- The estimated savings that low-income households could realize from buying in bulk can be estimated by combining the quantity differences with the estimated bulk discount. The previous sections have shown that low-income households buy 29\% smaller packages and a 1\% increase in package size is associated with a 0.2\% decrease in unit cost. Therefore, if low-income households were to buy large packages like high-income households, they would save about 8\%.^[Even though low-income households buy 29\% smaller packages, to close the gap, they would have to increase their current purchase quantity by about 40\%. To see this, note that $poorQ = 0.71richQ \Rightarrow 1.41poorQ = richQ$.] -->

<!-- I get a similar estimate from running the following regression as well, which provides suggestive evidence that high-income households are able to obtain similar standardized sizes at a lower unit cost. -->

<!-- \begin{equation} -->
<!-- \label{eq:savings} -->
<!-- log(P)_{ikrbmt} = \beta_1 Log(Q)_{krbmt} + \beta_2 Log(Q)_{krbmt} * Inc_{imt} + \gamma X_{imt} + \lambda_r + \lambda_b + \lambda_m + \lambda_t + \epsilon_{imt}, -->
<!-- \end{equation} -->

<!-- where $P$ is the log unit price paid by household $i$ on shopping trip $k$ at retailer $r$ of brand $b$ in market $m$ at time $t$. $Q$ is the number of standardized rolls purchased. $Inc$ is the household income quantile and $X$ is a vector of other household characteristics including household size, type of residence, marital status, race, ethnicity, age, and education. $\lambda$ are fixed effects. -->

<!-- The $\beta_2$ coefficients are plotted in Figure \ref{fig:unitCostCoef}. These coefficients show a steady negative relationship between household income and the unit price paid by a household starting once a household makes above \$25k and decreasing to a 6\% reduction in unit costs for the same size package after controlling for a wide range of both household demographics as well as various fixed effects. -->

<!-- \begin{figure} -->
<!-- \centering -->
<!-- \includegraphics{../5_figures/IncUnitCost.png} -->
<!-- \caption{} -->
<!-- \label{fig:unitCostCoef} -->
<!-- \end{figure} -->

<!-- # Model -->

<!-- The above descriptive analysis suggests some underlying factor that is contributing to the positive relationship between income and package size. However, the mechanism or causal factor remains elusive. Even @orhun2018 provides limited evidence that liquidity constraints are the cause of this difference. The most likely explanations rest on some combination of budget constraints and storage/transportation costs. In order to assess the relative importance of these factors, I estimate a multinomial logit model that incorporates various product characteristics that could explain this difference. This will then be extended to account for observed household heterogeneity and then further expanded to incorporate unobserved heterogeneity through a general random coefficients model. -->

<!-- ## Multinomial Logit -->
<!-- I start by estimating a multinomial logit model which will provide the intuition and the basic aggregate-level patterns. However, given the well-known restrictions of multinomial logit, I will extend this model to incorporate observed and unobserved household-level heterogeneity. -->

<!-- ### Products -->
<!-- I define a product as a brand-size combination. I define a "brand" as a "brand code" as reported in Nielsen. This refers to the label on the product and provides slightly finer distinctions than what is typically considered a "brand". For example, Scott 1000 and Scott Extra Soft are separate "brands" even though they are both manufactured by Scott.^[The quality of this subdivision can vary by brand. While Charmin is also subdivided, there are finer gradations not immediately picked up by the brand (e.g. their Ultra Soft and Ultra Strong lines are both under the Charmin "brand"). This will generate some noise when I aggregate UPCs into products. This can be addressed by more finely defining a product.] I focus on the top 5 brands in this space, which account for about two-thirds of total volume purchased with another quarter being made up by private-labels and the remainder being composed of the long-tail of other brands. In order to capture variation in physical package size, I aggregate packages into *small* (1-6 rolls), *medium* (7-12 rolls), and *large* (12+ rolls).^[While there are a range of sizes offered, most packages are 4-, 6-, 12-, or 24-roll packages. This categorization appropriately separates these popular sizes while also incorporating other, less popular sizes. It also captures the main focus of package size, namely it being the primary driver of storage and transportation costs.] -->

<!-- Descriptive statistics of the products that I use in my analysis are in Table \ref{tab:prodSummary} -->

<!-- \input{./tables/prodSummary.tex} -->

<!-- There may be some concern that varying product assortments could induce bias into the estimation. For example, if certain stores only offer small sizes, this may result in lower price sensitivities and a higher estimated preference for smaller sizes. This risk is moderated because most grocery and discount stores offer a wide array of -->

<!-- ### Utility -->

<!-- A household makes a shopping trip to a store in which they purchase a package of toilet paper.^[In over 85\% of shopping trips, households only purchase 1 package, so a discrete choice model is appropriate for this setting. Households purchasing 2 packages make up the majority of remaining purchases. This could be addressed in one of two ways. I could modify the choice set to include 2-package products. The other option is to treat my estimates as an upper bound on price sensitivity. Because of bulk discounts, purchasing multiple packages is weakly more expensive than the equivalent larger package. One other fact is that in 98\% of trips, a single UPC is purchased.] The household's choice set consists of all products with positive sales at the store they visit during the week of their visit. This is obtained by matching consumer panel data with retail scanner data at the store-week level. -->

<!-- Households ($i$) choose the product ($j$) that maximizes their utility, which I represent as the following: -->

<!-- \begin{equation} -->
<!-- U_{ij} = \alpha unitCost_j + \beta packSize_j + \gamma q_j + \theta_{b(j)} + \epsilon_{ij} -->
<!-- \end{equation} -->

<!-- where $U_{ij}$ represents the utility that household $i$ gets from product $j$. $unitCost$ is the unit cost (in units of standardized rolls).^[Recall that I define a "standard roll" as a 225-sheet, 2-ply roll.] $packSize$ consists of dummies for small/medium/large package sizes. $q$ represents the quantity (in units of standardized rolls) in product $j$. $\theta$ is a brand fixed effect.^[I assume that a brand fixed effect is sufficient to capture product unobservables (commonly denoted as $\xi$). For example, the quality of an Angel Soft 6-pack and an Angel Soft 12-pack is identical because the same roll is in each package. The additional benefit of allowing for a product-level unobservable is likely to be small.] $\epsilon_{nj}$ is an error term drawn from a Type I Extreme Value distribution. The error term structure and model give us a closed form for the choice probabilities. From these choice probabilities, the parameters can then be estimated using MLE. -->

<!-- The following section outlines how the parameters for package size and quantity are separately identified. However, some initial explanation is necessary to make the difference in these two quantities clear because they appear to be closely linked. The unique features of toilet paper ensure that the actual dimensions of the package and the underlying quantity do not have a one-to-one relationship.^[Other products, especially perishable items do have a strong relationship. For example, aside from minor variations in packaging, the packaging size of milk will be directly proportional to the usable volume. There is not a way to put 2 gallons of milk into a 1 gallon container without changing the composition of the product. On the other hand, laundry detergent can have different concentrations which means that a smaller package could provide the same or even more washes.] This stems from the fact that roll "composition" varies substantially by brand, which necessitated my earlier creation of a "standard" roll.^[The variation in roll composition dates back for at least 100 years. A 1915 newspaper ad by Scott Paper urges consumers not to get fooled by loosely wound paper and that "It's the counted sheets that count". See Appendix for reproduction of ad.] The usable quantity of a roll of toilet paper is related to the ply and sheets available in the roll while the dimensions of the packaging are related to the number of (unstandardized) rolls in the package. -->

<!-- For context, rolls vary widely in their sheet counts, with 20\% of products having less than 200 sheets, the median roll having 280 sheets and the top 12\% having 1000 sheets. Almost all rolls are either single or double-ply. As a result, this generates a wide variation in the amount of uses that a roll will cover. While there is variation in roll composition, there is limited variation in actual roll dimensions. Some of this is due to the fact that toilet paper is somewhat deformable so it can be wrapped tightly or loosely around the carboard tube to fit a particular dimension. Building on this, most toilet paper dispensers are of similar dimensions, with the common recessed mounting allowing for a 6-inch wide roll and a depth of 4-5 inches.^[Dimensions gathered from a search of toilet roll dispensers from Global Industrial, available at https://www.globalindustrial.com/.] The main point is that from a storage perspective, a 6-pack of 250-sheet, 2-ply rolls and a 6-pack of 500-sheet, 2-ply rolls will take up a similar amount of space, but will provide a different amount of uses. -->

<!-- ### Identification Strategy -->
<!-- Somewhat surprisingly, this model is identified only using data on product shares and prices. In particular, a careful reader might be worried that $\beta$ and $\gamma$ cannot be separately identified from aggregate shares.^[@cohen2008 asserts as much about his data on paper towels on p. 506 "Given [aggregate] data, however, it would not be possible to identify [preferences for different amounts of the product] separately from the distribution of package size preferences." He circumvents this issue by assuming that consumers use the same quantity in a given quarter, effectively shutting down heterogeneity in product consumption. Given that toilet paper is in a similar product class as paper towels, I could make this assumption. I choose not to because I want to fully leverage market-level data to get aggregate population preferences and then leverage household-level variation to estimate heterogeneity based on unobservables.] This is not normally the case, especially given the characteristics entering the utility function, so this requires justification. Some of this identification comes from the simplicity and assumptions of the model, but some is only possible because of unique product features of toilet paper. The identification strategy is subtle. -->

<!-- First, the primary objects of this study are $\alpha$ and $\beta$ because these reflect  preferences over price and physical size, which ultimately is the tradeoff being made when consumers are choosing whether to buy in bulk or not. Brand does not enter when buying in bulk because size differences are within a particular brand. -->

<!-- I will start by outlining the intuition of model construction and then address identification concerns. If my objects of interest are only $\alpha$ and $\beta$ why are quantity and brand included? Their inclusion stems from serious omitted variable bias concerns. First, brand is often correlated with price and it is likely correlated with choice. For a popular premium brand like Charmin, its brand is positively correlated with both price and choice. Therefore, excluding it would push the (negative) price coefficient towards zero and I would underestimate price sensitivity. Directly including brand effects will address this source of bias. -->

<!-- What about the product quantity (in standardized rolls)? Its inclusion also stems from the need to address omitted variable bias. In particular, quantity is negatively correlated with unit cost and likely ambiguously correlated with choice. If households prefer to have more toilet paper on hand as opposed to less, then I will overestimate the unit cost coefficient. Otherwise, it will be pushed to zero. To combat this bias, I include a quantity measure as well. -->

<!-- One risk of incorporating these additional variables is that I may have introduced multicollinearity between package size and quantity. Surprisingly, while these measures are positively correlated as one would expect, they are not so strongly correlated to induce strong multicollinearity. This is due to the fact that there is substantial variation in quantity across brands within a particular package size. As an example, a 6-pack of Scott 1000 and Charmin are roughly the same size. However, the Scott 1000 is 1000 sheets of single-ply toilet paper while Charmin is 196 sheets of 2-ply toilet paper. The variation in roll composition sufficiently breaks the multicollinearity to allow for credible and robust identification.^[The variance inflation factor (VIF) of a regression of quantity on package size and unit cost is about 2.6, much lower than the 5 or 10 threshold that usually indicates strong multicollinearity.] -->

<!-- The identifying variation used to estimate preference parameters comes from aggregating individual choice data. Household-level characteristics are not necessary for identification at this stage. There is sufficient unit cost variation between different sizes of the same brand and across brands within the same size. There is also substantial variation in quantity along these dimensions. A worked-out example of the identification strategy is given in the Appendix. -->

<!-- ### Estimation Results -->
<!-- To streamline computation, I estimate my multinomial logit model on individual markets over the 2006-2014 period.^[I use Nielsen's ScanTrack definition for a market which is roughly similar to an MSA.] Table \ref{tab:mnlBostonBaseline} reports the estimates for Boston. -->

<!-- \input{./tables/mnlBostonBaseline.tex} -->
<!-- \input{./tables/mnlAllBaseline.tex} -->

<!-- \input{./tables/mnlEffectsBoston.tex} -->

<!-- The coefficients fit relatively well with intuition. The price coefficient is significantly negative as expected. Households prefer packages that have more standard rolls and they also prefer small packages (less than 12 rolls) relative to large packages.^[These are defined in terms of number of rolls packages, not in terms of standardized rolls. See discussion in Data section for why packaged rolls is more indicative of package size than standardized rolls.] -->

<!-- To translate these coefficients into dollar terms, I compute the willingness to pay by dividing each coefficient by the unit cost coefficient. Households are willing to pay \$0.33 for an additional standard roll in a particular package. This is on the lower end of the range of unit prices offered in each package, which ranges from a low of about \$0.25 to a high of about \$1.50. Furthermore, households (in Boston) are willing to pay an additional \$4.46 for a small size package (12 or fewer rolls) compared to a large size package (12+ rolls). This suggests that households do have storage costs and would prefer smaller package to larger packages. For context, given that a large package is between \$10-\$15, households would be willing to pay an extra 30-45\% to avoid storing a large size and incurring a lower storage and transportation cost. -->

<!-- Across markets, price sensitivity and preference for more quantity is relatively stable. Households are willing to pay an additional \$0.25 to \$0.50 for an additional standard roll. However, willingness to pay for size ranges from about \$4-6 with some exceptions (notably Chicago and Dalls), but all cities prefer small packages over large packages. -->

<!-- While this model is a good starting point, a pure multinomial logit model implies a strict substition pattern as a result of the independence from irrelevant alternatives (IIA) property. This implies that if a new product is introduced, whether a Charmin 36-pack or a private-label single roll, it will draw from other alternatives proportionately. This is at odds with what might be expected given that a Charmin 36-pack is more suited for customers that prefer Charmin or large packages, but it is unlikely to compete with, say, a Scott 4-pack. -->

<!-- These coefficients are estimates reflect aggregate preferences, but could mask substantial heterogeneity in household-level preferences. To capture observed heterogeneity based on household characteristics (e.g. household size, income, consumption rate, etc.), I estimate this model with interactions between product characteristics and household characteristics in the next section. -->

<!-- ## Multinomial Logit with Observable Heterogeneity -->
<!-- The above model only uses market-level aggregates to estimate the parameters of interest and does not leverage any of the individual-level information that I have from the Consumer Panel data. Naturally, there is likely to be heterogeneity in price sensitivity, brand preferences, and other tastes and some of this heterogeneity is likely to be related to household characteristics. In order to allow for this observed heterogeneity, I interact prices, brand, quantities, and package sizes with household income, average consumption rate, type of home (single-family, multi-family, or mobile home), and an indicator for the "start" of the month (defined as within the first 10 days). The "start" of month indicator captures the fact that households may have more spending money at the start of the month compared to the end of the month.^[@orhun2018 uses this as a proxy for liquidity constraints.] As before, I do this over a wide range of markets and find that in most cases, higher income households are less price sensitive. Living in a multi-family home tends to reduce price sensitivity and in some markets, the start of the month reduces price sensitivity. -->

<!-- In terms of standard quantity, households prefer more quantity and this preference is generally increasing in their consumption rate. Finally, all cities have a preference for smaller packages and this preference decreases in income and increases if the household lives in a mobile home. This is intuititive because higher income households are likely to live in larger houses and mobile homes tend to be smaller that other home types, increasing the premium on space. Because price coefficients and size coefficients change with income, willingness to pay also changes with income. Figure \ref{fig:wtpBoston} illustrates that willingness to pay for size decreases in income. This pattern holds true across a range of cities. In a few cases, the willingness-to-pay increases, but this is generally because the size and income interaction term is not siginificant (see Charlotte and Denver). Generally, low-income households are willing to pay an extra \$4-6 for a small size while high-income households are willing to pay an extra \$1-3 for a small size.^[This assumes a household in a single-family home with a consumption rate of 0.25 standard rolls / day.] -->

<!-- \input{./tables/mnlBostonObsHet.tex} -->
<!-- \input{./tables/mnlAllObsHet.tex} -->

<!-- \begin{figure} -->
<!-- \centering -->
<!-- \includegraphics{../5_figures/wtpBoston.png} -->
<!-- \caption{} -->
<!-- \label{fig:wtpBoston} -->
<!-- \end{figure} -->

<!-- ## Random Coefficients Model -->
<!-- From above, there are important differences in preferences that can be attributed to observed household characteristics. However, there is likely to also be unobserved heterogeneity in preferences. To incorporate this, I estimate a mixed logit (random coefficients) model. The advantage of using a mixed logit model is that I can take advantage of the panel structure of my data and allow for individual heterogeneity in preferences across various product characteristics. For example, different households may have different preferences over price or package size. A standard discrete choice logit model restricts these preferences to be the same across all households. Furthermore, a mixed logit model also does not place restrictions on the kinds of substitution patterns that may be present. -->

<!-- Let $U_{hj}$ represent the utility that household $h$ gets from product $j$. I can decompose this utility into a "deterministic" part that relates the utility $U$ to observable factors and an unobservable portion $\epsilon_{hj}$. -->

<!-- \begin{equation} -->
<!-- U_{hj} = V_{hj} + \epsilon_{hj} -->
<!-- \end{equation} -->

<!-- Letting $V$ be represented as a linear function of observables $X_{hj}$, I get the following equation: -->

<!-- \begin{equation} -->
<!-- U_{hj} = \beta_h' X_{hj} + \epsilon_{hj} -->
<!-- \end{equation} -->

<!-- where $\beta$ is allowed to be different for each household $h$. I assume that the preference for quantity (std. size) follows normal distribution and the price coefficient follows a lognormal in order to ensure that it is negative. The elements of $x$ are product characteristics that will include brand, package size, and price. -->

<!-- With this representation and assuming that $\epsilon$ follows a Type 1 extreme value distribution, I can write the choice probabilities as: -->

<!-- \begin{equation} -->
<!-- P_{hi} = \int \frac{\exp(\beta_h' x_{hi})}{\sum_j \exp(\beta_h' x_{hj})} f(\beta) d\beta -->
<!-- \end{equation} -->

<!-- The key parameters of interest are the mean and variance of the distribution of each $\beta$. These estimates will illustrate the heterogeneity in preferences for various product features, with my focus being on preferences for package size and costs. -->

<!-- Table \ref{tab:mnlBostonRandCoef} reports the estimation results of the mixed logit model for Boston. For easier interpretation, I report the mean and variance of the price coefficient. The coefficients are relatively stable compared to the model without random coefficients. Furthermore, even after controlling for various household characteristics, there remains a moderate amount of unobserved heterogeneity in price sensitivity. -->

<!-- \input{./tables/mnlBostonRandCoef.tex} -->
<!-- \input{./tables/mnlAllRandCoef.tex} -->

<!-- # Counterfactuals -->
<!-- ## No Bulk Discounts -->

<!-- # Robustness -->

<!-- ## Credit Access -->
<!-- If budget constraints are preventing low-income households from buying in bulk, then having access to a credit card may help them better smooth their expenditures over short time horizons. If budget constraints are binding over longer time periods, which could be due to seasonal employment, income volatility, or other unexpected income shocks, then credit cards would not provide the short-term liquidity because the interest rate would effectively cancel out potential bulk discount savings. -->

<!-- In order to test this hypothesis, I add an indicator to Equation \ref{eq:size} for whether or not the household has a credit card.^[Starting in 2013, Nielsen began gathering information on the method of payment (e.g. cash, check, credit, etc.). About half of households have scanners that record this information.] The results reported in Table \ref{tab:packageSizeFullTpLiq} suggest that credit access likely has no significant effect for low-income households, and may even be negative. As given, the results suggest that households with income between \$25-50k that have a credit card purchase 5\% larger packages than their cash-only couterparts. There is no significant difference for households making \$50-100k and the richest households purchase 7\% larger packages if they have credit access. -->

<!-- One should be cautious interpreting these coefficients too deeply because there are vast compositional differences with a majority of high-income households selecting into credit cards while a majority of low-income households do not have a credit card. Furthermore, there are likely large differences in the types of credit cards that high-income and low-income households use, especially with regard to interest rates. Finally, there are likely behavioral differences in usage in that high-income households probably use credit cards as substitutes for cash while low-income households may use credit cards as an actual line of credit. -->

<!-- Even with these caveats, this evidence suggests that expanding access to credit for low-income households is unlikely to close the gap in bulk buying behavior. -->

<!-- \input{./tables/packageSizeFullTpLiq.tex} -->

<!-- ## Transportation Costs -->
<!-- Another factor that could be generating this pattern is transportation costs. Low-income households may rely more heavily upon public transport or have less access to cars than high-income households. Because larger packages can be difficult to carry, even if households wanted to purchase larger quantities, they may not be able to carry it home. In order to address this concern, I obtain tract-level data on the share of people with access to at least 1 vehicle from the American Community Survey.^[Specifically, I use the answer to "How many automobiles, vans, and trucks of one-ton capacity or less are kept at home for use by members of this household?" as my measure of vehicle access. This is fixed based on the 2010-2014 ACS 5-year estimate.] I match the Census tracts to their corresponding ZIP codes and estimate Equation \ref{eq:size} including the car share of the household's ZIP code as well as interactions with income. However, there is not much variation in vehicle access by ZIP code with over 95\% of ZIP codes having 90\% of people with access to at least 1 vehicle. The regression results in Table \ref{tab:packageSizeFullTpCar} suggest that vehicle access is positively correlated with purchase sizes of the lowest-income households. A 1 percentage point increase in vehicle access is associated with an increase in quantity purchased of 0.7\% for households making less than \$25k and only a 0.3\% increase for households making over. The potential effect of increasing access to transportation is likely larger given that vehicle access is probably strongly correlated with income. The above exercise assumes that the probability that a household has access to a vehicle is equal given a household's ZIP code. The actual vehicle access share is probably 1 for high-income households and it is only the lower-income households that are reducing the average access measure. -->

<!-- \input{./tables/packageSizeFullTpCar.tex} -->

<!-- ## Storage Costs -->
<!-- One competing explanation is that storage costs are driving differences between high- and low-income households. Equation \ref{eq:size} directly controls for the type of residence the household lives in (single-family home, apartment, or mobile home). However, there may be other storage aspects I am missing. High-income households likely have larger homes and therefore lower storage costs for large quantities of items like bulk toilet paper. In order to test this explanation, I redo the above analysis for tampons. Tampons are storable, non-substitutable, and demand is relatively predictable and fixed. However, storage costs are substantially lower for tampons because their packages are smaller. As an approximation, a 2-3 month supply of tampons (~50 units) takes up about 158 cubic inches of space while a 2-3 month supply of toilet paper takes up 5 times as much space.^[Volume calculations based on [Playtex Sport 50-unit package](https://www.walmart.com/ip/Playtex-Sport-Tampons-Unscented-Multi-Pack-25-Regular-Absorbency-And-25-Super-Absorbency-50-Count/24287691) and [Cottonelle Ultra ComfortCare 12-unit package](https://www.amazon.com/Cottonelle-ComfortCare-Toilet-Biodegradable-Septic-Safe/dp/B07C9JYF2W/ref=sr_1_15_a_it?ie=UTF8&qid=1546024137&sr=8-15&keywords=toilet+paper).] -->

<!-- Estimating Equations \ref{eq:size} and \ref{eq:discount} gives qualitatively similar results to my toilet paper analysis. Quantitatively, the results are smaller overall, with slightly flatter bulk discounts (-0.22 instead of -0.25) and less differences in package size purchases (10\% difference instead of 24\%). However, some of the package size differences could be due to the usage of pads. That analysis is not done here. The main takeaway is that the positive correlation between income and package size remains even when storage costs are substantially reduced.  -->

<!-- For completeness, these size choices are likely not due to brand preferences because most brands offer a similar range of sizes (see Figure 2). -->

<!-- \input{./tables/packageSizeFullTampon.tex} -->

<!-- ## Brand Preferences -->
<!-- One alternative explanation for this bulk purchasing pattern could be brand and quality preferences. Maybe cheap brands are offered in small sizes while expensive brands are larger. Therefore, what looks to be bulk purchasing could be brand preference. Figure \ref{fig:brandDist} plots the package size distribution of the top 10 most popular brands. There is substantial overlap in the size distributions (with the exception of warehouse club private labels), so this pattern is unlikely to be driven by brand and quality preferences.^[The top 10 brands account for over 80\% of all purchases, so for clarity I plot only the distributions of these top 10 brands.] -->

<!-- \begin{figure} -->
<!-- \centering -->
<!-- \includegraphics{../5_figures/tpSizeDist.png} -->
<!-- \caption{} -->
<!-- \label{fig:brandDist} -->
<!-- \end{figure} -->

<!-- ## Salience and Consumer Awareness -->
<!-- Following @chetty2009, this could be a case of salience and consumer awareness in that consumers are not aware of the bulk discount because it is not presented to them or they do not compute unit prices when making purchases. To test this, I leverage state-level variation in laws about displaying unit-costs. 18 states have some form of law regulating the display of unit prices, 5 have guidelines, and 27 have neither guidelines or regulations. As my measure of unit-pricing laws, I use the information compiled in the National Institute of Standards and Technology (NIST) Handbook 130. This handbook is published annually following the National Conference on Weights and Measures and consists of numerous laws and regulations that are recommended for states to adopt in order to "achieve, to the maxiumum extent possible, uniformity in weights and measures laws and regulations among the various states and local jurisdictions in order to ... provide uniform and sufficient protection to all consumers in commercial weights and measures practices" [@nist130]. Every year, NIST publishes a summary of which states have adopted unit pricing laws. I use their classification to indicate whether a state has no laws, guidelines, or laws around unit pricing. Since 2004, very few states have changes their status, so the coefficients on unit pricing stringency is primarily being identified off of cross-sectional variation as opposed to longitudinal variation. -->

<!-- Table \ref{tab:unitPriceLawTp} provides evidence that households in states with laws and guidelines regulating unit pricing purchase about 3\% larger quantities than states without such regulations, but this effect does not significantly differ by household income. This suggests that households may use this information to make better value decisions when shopping, but that it is unlikely to be the case that high-income households purchase larger quantities simply because they are better at identifying "value" based on unit costs. -->

<!-- \input{./tables/unitPriceLawTp.tex} -->

<!-- # Conclusion and Future Research -->
<!-- Put conclusion here -->

<!-- Previous research has documented that this "spikiness" has strong implications for measuring consumption inequality [@coibion2017]. Furthermore, this could have implications for inflation measurement as well. Given the prevalence of bulk discounts, if a basket price is computed using the largest package available, this may underestimate the price faced by consumers that cannot afford that package, or buy the same amount in smaller shopping trips. For example, the BLS uses unit-prices when computing the price of the CPI market basket. Therefore, the choice of package size can strongly influence this price. If the prices of different package sizes fluctuate differently, this could systematically affect our measurement of inflation. Further research would be necessary to determine if this is the case and what the magnitude could be.^[The BLS specifically deals with multi-unit discounts buy using the "first multiple-unit price" as the price measured. However, the method for dealing with different package sizes is less well defined. Per correspondence with the BLS: "In general, price-per-unit calculations are the standard practice in calculating items with quantity changes. For example if a loaf of bread is \$1 and you a second loaf for \$0.50, you have two loaves for \$1.50, and then depending on the weight of the two loaves, you divide the \$1.50 by number of ounces and get a price per ounce. Due to sample rotation, there is no guarantee that any specific item and specific size – toilet paper, olive oil, etc. – will be in the sample at a given time. If it is, and the economic assistant can’t find the specified size and has to substitute to a different size, price change is calculated on a per unit basis, as illustrated in the above example." Given that the BLS uses unit-prices to compute market basket prices, the choice of package size could strongly influence the computed price of the market basket.] -->

# References

<div id="refs"></div>

<!-- # Appendix -->

<!-- ## CPI Products and Weights -->
<!-- Table \ref{tab:cpi} shows the CPI weights of storable product categories that often exhibit bulk discounts. These weights come from the Bureau of Labor Statistics Handbook of Methods, Chapter 17: The Consumer Price Index (Updated 2-14-2018). To be conservative in the importance of accounting for quantity discounts, I capture products that are shelf-stable and storable to varying degrees. -->

<!-- The CPI tries to adjust for quantity discounts in that the "first multiple-unit price is reported for use in the CPI." However, to the extent that there are systematic differences in multi-unit purchases, especially for storable goods, this is likely to overestimate the price index for households that consistently buy in bulk and underestimate the price index for households that buy small quantities. -->

<!-- **Full CPI Basket:** Includes food and beverages, housing, utilities, apparel, transportation, medical care, recreation, and education. -->

<!-- **"Store" Shopping Basket:** This basket is constructed to reflect the set of goods commonly found at grocery/supercenter/general merchandise stores. Includes food and alcohol at home (9.024), household furnishings (3.341), apparel (3.343), pet products (0.659), recreational goods (1.5), and other goods (1.634). This excludes categories such as rent, utilities, energy, transportation, health care, education, and services (including food service). -->

<!-- \input{./tables/cpi.tex} -->

<!-- ## Annual Consumption Analysis (OLS and LASSO) -->
<!-- In order to establish that annual consumption does not substantially depend on income, I first run a basic OLS regression to establish correlations between household covariates and annual purchases. Table \ref{tab:annualTP} provides the OLS results which shows that while income is statistically significant, it is economically miniscule and other household covariates such as household size and presence of children are more predictive of toilet paper consumption than income. Overall, the income coefficients are not statistically different from each other. As a further check, I use a 20-fold cross-validated LASSO regression to select the most predictive covariates and it supports this intuition by choosing household size and other demographics as predictive of consumption and largely shrinks income coeffients to 0.^[LASSO results are available upon request.] -->

<!-- \input{./tables/annualTP.tex} -->

<!-- ## Identification Example -->
<!-- This section walks through a small example of exactly what variation is identifying the model parameters. -->

<!-- Recall, the indirect utility function is represented as follows: -->

<!-- \begin{equation} -->
<!-- U_{ij} = \underbrace{\alpha unitCost_j + \beta packSize_j + \gamma q_j + \theta_j}_{V_j} + \epsilon_{ij} -->
<!-- \end{equation} -->

<!-- $unitCost$ and $q$ are continuous variables while $packSize$ and $theta$ are package size and brand dummies. Consider the simplest case, a 2 brand, 2 size market. In this case, I would be under-identified because there are only 3 market share equations available to estimate 4 parameters. Slightly expanding the model to a 2 brand, 3 size market provides 5 equations to estimate 5 unknowns, so this system is exactly identified. See illustration below ($p$ denotes the unit cost): -->

<!-- \input{./tables/identification1.tex} -->

<!-- Assuming a type 1 extreme value distribution of $\epsilon$, the 5 equations used to identify the parameters are the market share equations of the form: -->

<!-- \begin{equation} -->
<!-- S_j = \frac{\exp(V_j)}{\sum_J \exp(V_j)} -->
<!-- \end{equation} -->

<!-- Taking the differenc in log shares between each brand for a given size (which eliminates the package size coefficient), I get the following 3 equations: -->

<!-- \begin{align} -->
<!-- \log(S_{AL}) - \log(S_{BL}) &= \alpha (p_{AL} - p_{BL}) + \gamma (q_{AL} - q_{BL}) + \theta_B -->
<!-- \\ -->
<!-- \log(S_{AM}) - \log(S_{BM}) &= \alpha (p_{AM} - p_{BM}) + \gamma (q_{AM} - q_{BM}) + \theta_B -->
<!-- \\ -->
<!-- \log(S_{AS}) - \log(S_{BS}) &= \alpha (p_{AS} - p_{BS}) + \gamma (q_{AS} - q_{BS}) + \theta_B -->
<!-- \end{align} -->

<!-- I have 3 equations and 3 unknowns. Algebraically, I should be able to solve this system of equations. However, I need to ensure that I have the variation necessary to solve for our parameters. First, I need variation in unit costs between brands and between sizes. This is not immediately obvious, but this is where I leverage the nonlinear pricing schedule that results from bulk discounting. This ensures that unit costs within a brand are not the same. Furthermore, different brands offer different bulk discounts which generates variation between different brands. This system of equations also requires variation in the quantities between sizes and between brands. This variation is generated because each brand has a different "roll composition" in that brands often vary their sheet count or ply which means that the same "size" package can contain different "amounts" of toilet paper. A specific example will provide a better illustration. -->

<!-- Consider 2 brands of toilet paper, A and B, which come in 2 sizes, Large and Small, where the Large contains 12 rolls. Because of the differences in sheet count and ply, there is some mapping between the rolls of brand A and brand B. Let the relationship be $B = cA$ where $c$ is some scalar. If B had twice as many sheets as brand A, then $c = 2$. These differences in roll composition also mean that the rolls in the package is not a standard unit and I should standardize them to make the same size package comparable across brands. I will let brand A rolls be our "standard" unit. -->

<!-- \input{./tables/identification2.tex} -->

<!-- To ensure I have variation, I need to look at the differences in the differences between sizes and between brands. This can be expressed as the following: -->

<!-- \begin{align} -->
<!-- (q_{AL} - q_{BL}) &- (q_{AS} - q_{BS}) -->
<!-- \\ -->
<!-- = (12 - 12c) &- (1 - c) = (1 - c) * (12 - 1) -->
<!-- \end{align} -->

<!-- As long as there is variation between brands in roll composition and the size options are not degenerate, this ensures that there is sufficient variation to identify this parameter. -->

<!-- ## Scott Paper Ad -->
<!-- Figure \ref{fig:Scott_ad_1915} reproduces an old Scott Paper ad that highlights the difference in the number of rolls and the usable amount of paper. -->

<!-- \begin{figure} -->
<!-- \centering -->
<!-- \includegraphics{../5_figures/Scott_ad_1915.png} -->
<!-- \caption{} -->
<!-- \label{fig:Scott_ad_1915} -->
<!-- \end{figure} -->

<!-- ## Package Size and Underlying Quantity -->
<!-- My analysis rests upon the fact that package size and usable quantity are not perfectly correlated (or even highly correlated). This is not true in many instances, especially with food. 1 gallon of milk takes up a certain amount of space and its size is different from a quart of milk. However, what matters is that it is impossible to fit one gallon of milk in a quart-sized container.^[I am referring to liquid measures. One could of course dehydrate the liquid milk to create powdered milk, which would fit well within a quart container. The gallon could then be reconstituted, but this is outside the realm of what I am considering.] -->

<!-- However, for products such as toilet paper, soaps, and detergents, this direct relationship is less true. Because manufacturers can alter the "concentration" of these items, the same physical volume can contain different "uses" of the product. Toilet paper "concentration" is less intuitive, so I will illustrate with laundry detergent and make the connection with toilet paper at the end. A 48oz bottle of regular laundry detergent might suffice for 12 loads of laundry. However, that same 48oz bottle of 2x concentrated laundry detergent would suffice for 24 loads of laundry. By altering the concentration of the underlying product, the manufacturer can vary how many "uses" a consumer can get from a particular physical volume of the product (in the case of detergent, volume would be ounces). -->

<!-- The same argument holds true in toilet paper. Manufacturers often vary the ply or sheet count in ways that change the number of "uses" a household will get from a single roll. This is often seen in the marketing of "double", "mega", "mega plus", and "super mega" rolls.^[These are not even standard sizes within the industry. An Angel Soft double roll contains 264 sheets while a Quilted Northern double roll contains 164 sheets] Because toilet paper can be rolled tightly or more loosely and the paper is moderately compressible, a single roll can have quite different underlying "concentrations". Consider 12-packs offered by Angel Soft and Quilted Northern (pictured below). Visual inspection suggests they take up a similar physical volume.^[Assuming the package is a rectangular prism, the Angel Soft has occupies a volume of 13.5" x 16" x 4" = 864 cubic inches and the Quilted Northern occupies a volume of 12.5" x 16" x 4" = 800 cubic inches.] However, the actual amount of sheets varies widely between the two packages. The Angel Soft contains 264 sheets per roll while the Quilted Northern contains 164 sheets per roll. This amounts to a 60\% difference in underlying sheet count while the physical volumes only differ by about 8\%! The difference in volume is negligible and could likely be made equal by squishing the rolls a little bit. However, the sheet difference is dramatic! -->

<!-- A similar analysis holds true for a comparison between 6-packs of mega rolls offered by Cottonelle and Charmin. The volume of Charmin is 10" x 12" x 5" = 600 cubic inches compared to 10" x 11.5" x 5" = 575 cubic inches for Cottonelle. However, each Charmin roll contains 451 sheets while a Cottonelle roll contains 340 sheets. This is a 33\% difference in usable sheets for a 4\% difference in volume! -->

<!-- # Data Appendix -->
<!-- In order to conduct this analysis, I need a dataset that captures consumer decisions and their available choices. I create the necessary dataset by combining two Nielsen datasets: the Consumer Panel dataset and the Retail Scanner dataset. Nielsen's Consumer Panel dataset contains information on consumer purchases as well as a rich set of demographic variables. Nielsen's Retail Scanner dataset contains information on the weekly volumes of products sold at stores that have agreed to share their data with Nielsen. -->

<!-- ## Consumer Panel Data -->

<!-- **Households** -->
<!-- In order to best focus on the consumer choice decision, I remove any households where the head of household is a student or a member of the military because these households likely have different living arrangements that are not representative of a typical household's decision to purchase toilet paper (e.g. dormitories and barracks). This reduces my sample from about 653,554 households to 644,229 households. I also remove 7 households that have missing residence information. -->

<!-- **Products** -->
<!-- On the products side, there are some products that are obviously miscoded. For example one toilet paper product is reported to have "multi" and "size1_amount" both equal to 36, indicating total package of 1,296 rolls. In reality, only one of those fields was supposed to be 36. I manually correct these discrepancies based on the corresponding product in the Retail Scanner data, because it is likely to have less error. In some cases, I use my best judgement based on similar items offered by the same brand. Overall, 80 products are corrected out of 7,453 total products. I also remove 6 products branded as "to-go" packs since these are unlikely to be used for daily household consumption. -->

<!-- **Missing Purchases** -->
<!-- I then follow the process of @orhun2018 to identify missing purchase occasions where a household likely made a purchase, but did not report it. A missing purchase would downward bias my calculation of a household's consumption rate. For example, if a household purchased a 4 pack each month for 3 months, but only recorded the first and last occasion, then their daily consumption would be $8/3 \approx 2.67$ rolls/month instead of the true rate of 4 rolls per month. Given a package size $s$, I compute the mean and standard deviation of the time until the next purchase. If, the time between purchases given a size $s$ package is longer than the average duration plus 2 standard deviations, then I flag this as a missing purchase occasion. -->

<!-- These "missing" purchases are then used to demarcate when a household is "active", defined as a spell without a missing purchase. Hence, if a household had 1 missing purchase, then they are determined to have 2 active periods. I use these active periods to compute a household's average consumption rate, which is as follows (as per @orhun2018): -->

<!-- \begin{equation} -->
<!-- Consumption_h = \frac{\sum_{a = 1}^A \sum_{p = 1}^{P_a - 1} V_{hpa}}{\sum_{a = 1}^{a = A} T_a} -->
<!-- \end{equation} -->

<!-- where $V_{hpa}$ is the volume of toilet paper for purchase $p$ during active period $a$. $P_a$ is the total number of purchases made during active period $a$. All purchases during an active period are included except for the last one because I assume that the purchase made on the final day of an active period is not consumed during that period. -->

<!-- **Outliers** -->
<!-- Even after correcting miscoded products and identifying potential missing purchases, there remain some outliers. In particular, some households purchase excessively large quantities of items, which may indicate they are purchasing for a small business. In other instances, they are inactive, have many missing purchases, or extremely low consumption rates. For my analysis, I remove these outliers, which meet any of the following criteria: -->

<!-- * Excessive Missingness: The household has more than 3 missing purchases and/or has an inter-purchase duration longer than the 99th percentile of all household's maximum inter-purchase duration. -->

<!-- * Inactivity: The household is active for less than 90 days. -->

<!-- * Missing/Insufficient Consumption: Household consumption is below the 1st percentile of the distribution or consumption cannot be calculated. -->

<!-- * Extreme Values: The household purchased a quantity or volume higher than the 99th percentile of the quantity or volume distribution or they spent more than \$50 (inflation-adjusted to 2012) on a single purchase. I also remove any purchases for which a price of \$0 is recorded. -->

<!-- **Uncommon Stores** -->
<!-- I remove any purchases that do not occur in major channels. There are some stores for which it seems unlikely that they sell toilet paper (e.g. bakery, vet, barber, etc.). Over 75\% of toilet paper purchases are recorded at grocery or discount stores with the remainder primarily at drug stores, dollar stores, or warehouse clubs. However, these other stores likely offer more restricted assortments, or in the case of warehouse clubs, may not be available to all households. -->

<!-- As a result of these conditions, 6.5\% of purchases and 28.8\% of households are dropped. These exclusion criteria primarily exclude households that make few purchases in this category. Table \ref{tab:tpPurchClean} shows how many observations and households were affected by each condition. Table \ref{tab:tpPurchDist} how the distribution of the sample compares before and after applying these criteria. Overall, these figures mirror those of @orhun2018 with the main differences being a result of including the 2015 and 2016 data. -->

<!-- \input{./tables/tpPurchClean.tex} -->

<!-- \input{./tables/tpPurchDist.tex} -->

<!-- Finally, for my discrete choice modeling, I restrict the sample to households that purchased a single package. This leaves me with a sample of 3,813,591 purchases across 126,034 households. -->

<!-- ## Nielsen Retail Scanner Data -->
<!-- The Nielsen Retail Scanner Data contains weekly pricing, volume, and promotional activity of about 35,000 stores from about 90 retail chains and covers 2006-2016. Each store in the panel reports their weekly quantity sold as well as the weighted average unit price. For a subset of stores, they also report their promotional activity (i.e. if a product was featured or on display). -->

<!-- Because my focus is on the consumer's choice problem, I only extract information related to a consumer's choice set for toilet paper. In order to do this, I combine all movement files of the toilet paper category and then merge those with the Nielsen Consumer Panel data based on the store ID and the week of the shopping trip. This match reduces the possible size of the Consumer Panel because it requires that households shop at the exact stores that have agreed to report their weekly sales to Nielsen. -->

<!-- In examining the consumer choice, I have to make a few assumptions with respect to the Retail Scanner Data. -->

<!-- **Assumption 1:** -->
<!-- *If a product has no sales, it is not in the consumer's choice set. If a product has positive sales, it is in the consumer's choice set.* -->

<!-- In the data, only products with positive sales are recorded, therefore it is difficult to determine if an available product did not sell (a true zero) or if the product was not available (a missing product). Because the data does not distinguish between missing items and those with no sales, I assume that the selection available to consumers is only the set of items with positive sales during the week they shopped at the store. -->

<!-- ## Merging Data -->
<!-- I merge the two datasets based on store ID and the week of the consumer's shopping trip. As stated above, I assume that all products with positive sales are in the consumer's choice set and I identify their actual purchase choice by matching the product they chose with the product being offered by UPC. There are some cases where these cannot be precisely matched up and I outline my steps to fix these issues below. -->

<!-- **Missing Brand Name Purchases** -->
<!-- In some cases, the purchase of a brand name cannot be matched by UPC to its corresponding store. In these cases, I simply combine the purchase record from the Consumer Panel with the product assortment offered at that store in the corresponding week. For example, if a consumer records purchasing a 12-pack of Quilted Northern at a particular store in a particular week, but the corresponding store has only recorded sales of other brands (Charmin, Angel Soft, etc.) and maybe other sizes of Quilted Northern (4-, 6-, 8-roll packages), then I add on the consumer's actual purchase to the store assortment. The Kilts Marketing Center has confirmed that this happens occasionally, but they have not been able to ascertain a reason for this occurrence. -->

<!-- **Private-Label Purchases** -->
<!-- In order to maintain anonymity of stores, Nielsen masks the UPCs of private labelled goods in the Retail Scanner Dataset. Since these are commonly purchased, I match private-label purchases between the two datasets based on the following procedure. I record the price, ply, and package size of the item purchased in the Consumer Panel Data. If there is a corresponding item that is the same price, ply, and package size, I record that as a match. This is a conservative matching algorithm and misses some items that might have been purchased at a sale price since the prices would not match up. If there remain unmatched purchases, I follow the same procedure as with the brand-name purchases and append the record from the Consumer Panel to the store's assortment. -->

<!-- **Missing Stores** -->
<!-- Not all individual stores share scanner data with Nielsen or even those that do are not able to be linked to a corresponding store in the Consumer Panel data. In these cases, I impute the choice set available to households by using Assumption 2 below: -->

<!-- **Assumption 2:** -->
<!-- *Stores in the same retail chain and DMA offer the same assortment.* -->

<!-- Given that pricing and inventory policies are often set at a regional or national level, this is likely a weak assumption. Furthermore, the results of DellaVigna and Gentzkow (2017) suggest that pricing is quite similar across stores within the same retail chain. While it is not precisely true that all stores in a chain offer the same assortment of products or offer the exact same price (which is pointed out in DellaVigna and Gentzkow (2017)), I take a conservative approach and generate a "representative" store within a chain by taking the union of the products offered and taking the quantity-weighted average price of those stores for each product. To capture the fact that some chains may coordinate inventories within a region, I generate with "representative" store based on a chain-DMA. For example, if Chain A has multiple stores in Boston and Atlanta, I construct two "representative" stores, one with the set of products offered in the Boston area and the other with the set of products offered in the Atlanta area. If product assortments are set at the national level, there should not be much difference, but this approach is a conservative way to capture the product assortment faced by a consumer. -->

<!-- The results of this matching procedure are recorded in Table \ref{tab:scannerClean}. I start with the Consumer Panel data that has been cleaned as outlined in the "Consumer Panel Data" section. I can see that a majority of the sample shrinkage occurs because Nielsen has not assigned certain stores an ID and because some stores that have been assigned an ID do not share their scanner data with Nielsen. Overall, the sample remains large and could be credibly expanded under Assumption 2 below. -->

<!-- \input{./tables/scannerClean.tex} -->

<!-- **Collapsing Products** -->
<!-- For some products, a brand-size does not define a unique product. In these cases, I collapse these items to a composite brand-size with a standardized size, unit cost, price, and ply reflecting the average of the component products. Within a store-week, about 33\% of prices are within 1\% of the mean price, 50\% of prices composing these "composite" products are within 10\% of the mean price and 75\% are within 25\% of the mean price. Overall, price variation is relatively muted within these aggregated brand-size products. These variations are concentrated in certain brands which tend to have more within-brand variation, like Charmin and Angel Soft, as well as the catch-all "Other" category. Allowing for finer gradations of these brands would help reduce this variation. For example, the Charmin "brand" includes their Ultra Soft and Ultra Strong subtypes which currently are combined into a single Charmin product depending on the available size. -->
